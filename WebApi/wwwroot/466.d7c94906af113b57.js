"use strict";(self.webpackChunkClient=self.webpackChunkClient||[]).push([[466],{4466:(B,l,r)=>{r.r(l),r.d(l,{ShopModule:()=>U});var p=r(6814),t=r(4769),d=r(5142);let _=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-paging-header"]],inputs:{pageNumber:"pageNumber",totalPages:"totalPages"},decls:8,vars:2,template:function(i,o){1&i&&(t.TgZ(0,"header"),t._uU(1," Page "),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t._uU(4," of "),t.TgZ(5,"strong"),t._uU(6),t.qZA(),t._uU(7," Pages\n"),t.qZA()),2&i&&(t.xp6(3),t.Oqu(o.pageNumber),t.xp6(3),t.Oqu(o.totalPages))}})}return n})();var f=r(7012);let v=(()=>{class n{constructor(){this.pageChanged=new t.vpe}onPageChanged(e){this.pageChanged.emit(e.page)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-pager"]],inputs:{totalPages:"totalPages",pageSize:"pageSize"},outputs:{pageChanged:"pageChanged"},decls:1,vars:4,consts:[["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",3,"boundaryLinks","totalItems","itemsPerPage","maxSize","pageChanged"]],template:function(i,o){1&i&&(t.TgZ(0,"pagination",0),t.NdJ("pageChanged",function(c){return o.onPageChanged(c)}),t.qZA()),2&i&&t.Q6J("boundaryLinks",!0)("totalItems",o.totalPages*o.pageSize)("itemsPerPage",o.pageSize)("maxSize",5)},dependencies:[f.Qt]})}return n})();var g=r(95),m=r(823),h=r(2425),u=r(2999);let x=(()=>{class n{constructor(e,i){this.basketService=e,this.toastrService=i}addToBasket(){this.basketService.addProductToBasket({productId:this.productItem.id,quantity:1}),this.toastrService.success("Product is added to the basket successfully")}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(m.v),t.Y36(h._W))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-item"]],inputs:{productItem:"productItem"},decls:15,vars:6,consts:[[1,"card","shadow-sm","w-100","h-100"],[1,"position-relative","overflow-hidden"],[1,"card-img-top","bg-info",2,"max-height","200px",3,"src"],[1,"overlay","d-flex","justify-content-center","align-items-center"],[1,"btn","btn-primary","me-2","py-2",3,"click"],[1,"fa","fa-shopping-cart"],[1,"btn","btn-primary","py-2",3,"routerLink"],[1,"fa","fa-eye"],[1,"card-body"],[1,"text-decoration-none"],[1,"card-title","mb-2",2,"font-size","1.2rem"],[1,"card-text","d-block"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.TgZ(3,"div",3)(4,"a",4),t.NdJ("click",function(){return o.addToBasket()}),t._UZ(5,"i",5),t.qZA(),t.TgZ(6,"a",6),t._UZ(7,"i",7),t.qZA()()(),t.TgZ(8,"div",8)(9,"a",9)(10,"h5",10),t._uU(11),t.qZA()(),t.TgZ(12,"span",11),t._uU(13),t.ALo(14,"currency"),t.qZA()()()),2&i&&(t.xp6(2),t.Q6J("src",o.productItem.pictureUrl||"/assets/images/placeholder.png",t.LSH),t.xp6(4),t.Q6J("routerLink","/shop/"+o.productItem.id),t.xp6(5),t.Oqu(o.productItem.name),t.xp6(2),t.Oqu(t.lcZ(14,4,o.productItem.price)))},dependencies:[u.rH,p.H9],styles:[".overlay[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;opacity:0;visibility:hidden;background-color:#ffffffa6;transition:opacity .4s}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .4s}.card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.3) rotate(8deg)}.card[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1;visibility:visible}.card[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{transform:translate(0)}.overlay[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:90px;transition:transform .4s}.overlay[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:first-child{transform:translate(-20px)}.overlay[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{transform:translate(20px)}"]})}return n})();const b=["searchInput"];function P(n,s){if(1&n&&(t.TgZ(0,"option",24),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.name)}}function C(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"li",25),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.onCategorySelected(a.id))}),t._uU(1),t.qZA()}if(2&n){const e=s.$implicit,i=t.oxw(2);t.ekj("active",i.filterParams.categoryId==e.id),t.xp6(1),t.hij(" ",e.name,"")}}function y(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"li",25),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.onBrandSelected(a.id))}),t._uU(1),t.qZA()}if(2&n){const e=s.$implicit,i=t.oxw(2);t.ekj("active",i.filterParams.brandId==e.id),t.xp6(1),t.hij(" ",e.name,"")}}function Z(n,s){if(1&n&&t._UZ(0,"app-paging-header",26),2&n){const e=t.oxw(2);t.Q6J("pageNumber",e.pageNumber)("totalPages",e.totalPages)}}function T(n,s){if(1&n&&(t.TgZ(0,"div",12),t._UZ(1,"app-product-item",27),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.Q6J("productItem",e)}}function S(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",28)(1,"app-pager",29),t.NdJ("pageChanged",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onPageChanged(o))}),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("totalPages",e.totalPages)("pageSize",e.pageSize)}}function k(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h5",5),t._uU(5,"Sort"),t.qZA(),t.TgZ(6,"select",6,7),t.NdJ("change",function(){t.CHM(e);const o=t.MAs(7),a=t.oxw();return t.KtG(a.onSortSelected(o.value))}),t.TgZ(8,"option",8),t._uU(9,"Select Sort Type"),t.qZA(),t.YNc(10,P,2,2,"option",9),t.qZA()(),t.TgZ(11,"div",4)(12,"h5",5),t._uU(13,"Categories"),t.qZA(),t.TgZ(14,"ul",10),t.YNc(15,C,2,3,"li",11),t.qZA()(),t.TgZ(16,"div",4)(17,"h5",5),t._uU(18,"Brands"),t.qZA(),t.TgZ(19,"ul",10),t.YNc(20,y,2,3,"li",11),t.qZA()()(),t.TgZ(21,"div",12)(22,"div",13)(23,"div",14),t.YNc(24,Z,1,2,"app-paging-header",15),t.qZA(),t.TgZ(25,"div",16)(26,"input",17,18),t.NdJ("keyup.enter",function(){t.CHM(e);const o=t.MAs(27),a=t.oxw();return t.KtG(a.onSearch(o.value))}),t.qZA(),t.TgZ(28,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(27),a=t.oxw();return t.KtG(a.onSearch(o.value))}),t._uU(29,"Search"),t.qZA(),t.TgZ(30,"button",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onReset())}),t._uU(31,"Reset"),t.qZA()()(),t.TgZ(32,"div",21),t.YNc(33,T,2,1,"div",22),t.qZA(),t.YNc(34,S,2,2,"div",23),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(10),t.Q6J("ngForOf",e.sortOptions),t.xp6(5),t.Q6J("ngForOf",e.categories),t.xp6(5),t.Q6J("ngForOf",e.brands),t.xp6(4),t.Q6J("ngIf",e.products.length),t.xp6(9),t.Q6J("ngForOf",e.products),t.xp6(1),t.Q6J("ngIf",e.products.length)}}let q=(()=>{class n{constructor(e){this.productsService=e,this.products=[],this.brands=[],this.categories=[],this.totalPages=0,this.pageSize=0,this.pageNumber=0,this.sortOptions=[{name:"Default Sort",value:""},{name:"Price: Low to high",value:"priceAsc"},{name:"Price: High to low",value:"priceDesc"}],this.filterParams=e.filterParams}ngOnInit(){this.getProducts(),this.getBrands(),this.getCategories()}getProducts(){this.productsService.getProducts().subscribe({next:e=>{this.products=e.data,this.totalPages=e.totalPages,this.pageNumber=e.pageNumber,this.pageSize=e.pageSize},error:e=>console.log(e)})}getBrands(){this.productsService.getBrands().subscribe({next:e=>this.brands=[{id:0,name:"All"},...e],error:e=>console.log(e)})}getCategories(){this.productsService.getCategories().subscribe({next:e=>this.categories=[{id:0,name:"All"},...e],error:e=>console.log(e)})}onCategorySelected(e){this.filterParams.categoryId=e,this.filterParams.pageNumber=1,this.getProducts()}onBrandSelected(e){this.filterParams.brandId=e,this.filterParams.pageNumber=1,this.getProducts()}onSortSelected(e){this.filterParams.sort=e,this.filterParams.pageNumber=1,this.getProducts()}onSearch(e){this.filterParams.search=e,this.filterParams.pageNumber=1,this.getProducts()}onReset(){this.searchInput.nativeElement.value="",this.filterParams=this.productsService.resetFilterParams(),this.getProducts()}onPageChanged(e){this.filterParams.pageNumber=e,this.getProducts()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(d.d))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-shop"]],viewQuery:function(i,o){if(1&i&&t.Gf(b,5),2&i){let a;t.iGM(a=t.CRH())&&(o.searchInput=a.first)}},decls:1,vars:1,consts:[["class","container mt-5",4,"ngIf"],[1,"container","mt-5"],[1,"row"],[1,"col","col-lg-4","col-xl-3"],[1,"mb-4"],[1,"text-primary","mb-2"],["aria-label","Default select example",1,"form-select",3,"change"],["sortInput",""],["hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"list-group"],["class","list-group-item",3,"active","click",4,"ngFor","ngForOf"],[1,"col"],[1,"mb-4","d-flex","justify-content-lg-between","align-items-lg-center","flex-column","flex-lg-row"],[1,"d-none","d-lg-block"],[3,"pageNumber","totalPages",4,"ngIf"],[1,"d-flex"],["type","text","name","","id","","aria-describedby","helpId","placeholder","Search",1,"form-control","me-2",2,"max-width","200px","width","100%",3,"keyup.enter"],["searchInput",""],["type","button",1,"btn","btn-outline-primary","me-2",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"row","row-cols-1","row-cols-lg-2","row-cols-xxl-3","g-4"],["class","col",4,"ngFor","ngForOf"],["class","d-flex justify-content-center mt-5",4,"ngIf"],[3,"value"],[1,"list-group-item",3,"click"],[3,"pageNumber","totalPages"],[3,"productItem"],[1,"d-flex","justify-content-center","mt-5"],[3,"totalPages","pageSize","pageChanged"]],template:function(i,o){1&i&&t.YNc(0,k,35,6,"div",0),2&i&&t.Q6J("ngIf",(null==o.brands?null:o.brands.length)&&(null==o.categories?null:o.categories.length))},dependencies:[p.sg,p.O5,_,v,g.YN,g.Kr,x]})}return n})();var A=r(6208),I=r(8066);function w(n,s){if(1&n&&(t.TgZ(0,"span",13),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("You have ",e.quantityInBasket," of this item in the basket")}}function N(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.addToBasket())}),t._uU(1,"Add to basket"),t.qZA()}}function O(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.updateProductBasketCount())}),t._uU(1,"update basket"),t.qZA()}}function M(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t._UZ(2,"img",3),t.qZA(),t.TgZ(3,"div",4)(4,"h2"),t._uU(5),t.qZA(),t.TgZ(6,"span",5),t._uU(7),t.ALo(8,"currency"),t.qZA(),t.YNc(9,w,2,1,"span",6),t.TgZ(10,"div",7)(11,"i",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.decreaseQuantity())}),t.qZA(),t.TgZ(12,"span",9),t._uU(13),t.qZA(),t.TgZ(14,"i",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.increaseQuantity())}),t.qZA(),t.YNc(15,N,2,0,"button",11),t.YNc(16,O,2,0,"button",11),t.qZA(),t.TgZ(17,"div",12)(18,"h4"),t._uU(19,"Description"),t.qZA(),t.TgZ(20,"p"),t._uU(21),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("src",e.product.pictureUrl,t.LSH),t.xp6(3),t.Oqu(e.product.name),t.xp6(2),t.Oqu(t.lcZ(8,8,e.product.price)),t.xp6(2),t.Q6J("ngIf",e.quantityInBasket),t.xp6(4),t.Oqu(e.quantity),t.xp6(2),t.Q6J("ngIf",!e.quantityInBasket),t.xp6(1),t.Q6J("ngIf",e.quantityInBasket),t.xp6(5),t.Oqu(e.product.description)}}const J=[{path:"",component:q,data:{breadcrumb:"shop"}},{path:":id",component:(()=>{class n{constructor(e,i,o,a,c){this.shopService=e,this.activatedRoute=i,this.bcService=o,this.basketService=a,this.toastrService=c,this.quantity=0,this.quantityInBasket=0,this.bcService.set("@productDetails"," ")}ngOnInit(){this.getProduct();const e=this.activatedRoute.snapshot.paramMap.get("id");if(e){this.basketService.getProductCount(+e);const i=this.basketService.getProductCount(+e);this.quantity=this.quantityInBasket=i||0}}getProduct(){this.shopService.getProduct(+this.activatedRoute.snapshot.params.id).subscribe({next:i=>{this.product=i,this.bcService.set("@productDetails",i.name)},error:i=>console.log(i)})}addToBasket(){this.product&&(this.quantityInBasket=this.quantity,this.basketService.addProductToBasket({productId:this.product.id,quantity:this.quantity}),this.toastrService.success("Product is added to the basket successfully"))}updateProductBasketCount(){this.product&&(this.basketService.updateProductBasket({productId:this.product.id,quantity:this.quantity}),this.quantityInBasket=this.quantity,this.toastrService.success("Basket is updated successfully"))}increaseQuantity(){++this.quantity}decreaseQuantity(){this.quantity>0&&--this.quantity}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(d.d),t.Y36(u.gz),t.Y36(I.pm),t.Y36(m.v),t.Y36(h._W))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-details"]],decls:1,vars:1,consts:[["class","d-flex flex-column flex-lg-row align-items-center container mt-5",4,"ngIf"],[1,"d-flex","flex-column","flex-lg-row","align-items-center","container","mt-5"],[1,"w-lg-50","d-flex","justify-content-center"],[2,"height","350px",3,"src"],[1,"flex-grow-1","mt-5","mt-lg-0"],[1,"fs-3"],["class","text-warning  d-block fs-6 mt-2",4,"ngIf"],[1,"d-flex","mt-3","align-items-center"],[1,"fa","fa-minus-circle","text-warning","me-3","fs-4",2,"cursor","pointer",3,"click"],[1,"me-3","fs-4"],[1,"fa","fa-plus-circle","text-warning","me-3","fs-4",2,"cursor","pointer",3,"click"],["type","button","class","btn btn-outline-primary",3,"click",4,"ngIf"],[1,"mt-4"],[1,"text-warning","d-block","fs-6","mt-2"],["type","button",1,"btn","btn-outline-primary",3,"click"]],template:function(i,o){1&i&&t.YNc(0,M,22,10,"div",0),2&i&&t.Q6J("ngIf",o.product)},dependencies:[p.O5,p.H9]})}return n})(),data:{breadcrumb:{alias:"productDetails"}}}];let U=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[p.ez,A.m,u.Bz.forChild(J)]})}return n})()}}]);